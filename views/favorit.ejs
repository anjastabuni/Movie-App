<% layout('layout/app') %>

<div class="container mx-auto px-6 py-12">
  <h1 class="text-4xl font-bold text-center text-white mb-8">🎬 Film Favorit</h1>

  <% if (favorites.length === 0) { %>
  <p class="text-center text-gray-400">Belum ada film favorit.</p>
  <% } else { %>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    <% favorites.forEach(movie => { %>
    <div class="relative group">
      <!-- Background Image -->
      <div class="absolute inset-0 bg-cover bg-center rounded-lg filter blur-md brightness-75" style="background-image: url('https://image.tmdb.org/t/p/w1280<%= movie.poster %>')"></div>

      <!-- Movie Card -->
      <div class="relative bg-white/10 backdrop-blur-md rounded-lg shadow-lg p-6 flex flex-col justify-between min-h-[450px] text-white">
        <div>
          <h2 class="text-2xl font-bold mb-2"><%= movie.title %></h2>
          <p class="text-gray-300 text-sm">⭐ <%= movie.popularity %> | 🗓 <%= movie.releaseDate %></p>
          <p class="mt-4 text-gray-300 line-clamp-3"><%= movie.overview %></p>
        </div>

        <form action="/favorit/<%= movie.movieId %>?_method=delete" method="POST">
          <button class="mt-6 bg-red-500 hover:bg-red-600 text-white font-bold py-2 w-full px-4 rounded-full transition duration-300">Hapus dari Favorit</button>
        </form>
      </div>
    </div>
    <% }); %>
  </div>
  <% } %>
</div>
